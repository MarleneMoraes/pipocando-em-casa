import{a as I}from"./chunk-4AGVQLHU.js";import{Aa as p,Da as _,Ea as x,Eb as b,Fa as l,Ga as n,Ha as o,Hb as O,Ia as g,L as m,Pb as P,Qa as v,Sb as D,Vb as E,W as s,Wb as T,cb as a,db as C,eb as u,fa as f,ha as r,lb as S,mb as y,ob as M,pa as h,za as d}from"./chunk-5QMHKYQ4.js";var q=e=>["/movie",e],N=(e,i)=>i.id;function w(e,i){e&1&&(n(0,"div",4),a(1,"Searching..."),o())}function F(e,i){e&1&&(n(0,"div",5)(1,"p"),a(2,"No movies found using this term :/"),o()())}function R(e,i){if(e&1&&g(0,"img",9),e&2){let t=v().$implicit;l("src","https://image.tmdb.org/t/p/w500"+t.poster_path,f)("alt",t.title)}}function z(e,i){e&1&&(n(0,"div",10),a(1,"No Image"),o())}function L(e,i){if(e&1&&(n(0,"div",7)(1,"a",8),d(2,R,1,2,"img",9)(3,z,2,0,"div",10),o(),n(4,"div",11)(5,"h4",12),a(6),o(),n(7,"p",13),g(8,"app-star-rating",14),a(9),y(10,"date"),o()()()),e&2){let t=i.$implicit;r(),l("routerLink",S(8,q,t.id)),r(),p(t.poster_path?2:3),r(4),C(t.title),r(2),l("rating",t.vote_average),r(),u(" | ",M(10,5,t.release_date,"yyyy"))}}function $(e,i){if(e&1&&(n(0,"div",6),_(1,L,11,10,"div",7,N),o()),e&2){let t=v();r(),x(t.results())}}var k=class e{route=m(P);tmdbService=m(T);query=s("");results=s([]);loading=s(!1);ngOnInit(){this.route.params.subscribe(i=>{this.query.set(i.query),this.performSearch(this.query())})}performSearch(i){this.loading.set(!0),this.tmdbService.searchMovies(i).subscribe({next:t=>{this.results.set(t.results),this.loading.set(!1)},error:()=>this.loading.set(!1)})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=h({type:e,selectors:[["app-search"]],decls:9,vars:2,consts:[[1,"section","search-page"],[1,"container"],[1,"section-title-dark"],[1,"highlight"],[1,"loading"],[1,"no-results"],[1,"movies-grid"],[1,"movie-item"],[1,"poster-link",3,"routerLink"],[1,"movie-poster",3,"src","alt"],[1,"poster-placeholder"],[1,"movie-info"],[1,"movie-title"],[1,"movie-meta"],[3,"rating"]],template:function(t,c){t&1&&(n(0,"section",0)(1,"div",1)(2,"h2",2),a(3," Results for: "),n(4,"span",3),a(5),o()(),d(6,w,2,0,"div",4)(7,F,3,0,"div",5)(8,$,3,0,"div",6),o()()),t&2&&(r(5),u('"',c.query(),'"'),r(),p(c.loading()?6:c.results().length===0?7:8))},dependencies:[O,E,D,I,b],styles:[".search-page[_ngcontent-%COMP%]{min-height:60vh}.highlight[_ngcontent-%COMP%]{color:var(--color-accent);font-style:italic}.loading[_ngcontent-%COMP%], .no-results[_ngcontent-%COMP%]{text-align:center;padding:50px;font-size:1.2rem;color:#666}.movies-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:30px;margin-top:30px}.movie-poster[_ngcontent-%COMP%]{width:100%;border-radius:8px;transition:transform .3s;cursor:pointer}.movie-poster[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.poster-placeholder[_ngcontent-%COMP%]{width:100%;aspect-ratio:2/3;background:#eee;display:flex;align-items:center;justify-content:center;border-radius:8px;color:#999}.movie-title[_ngcontent-%COMP%]{margin-top:10px;font-size:1rem;font-weight:700;color:#333}.movie-meta[_ngcontent-%COMP%]{font-size:.85rem;color:#777}"]})};export{k as Search};
